{#ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶™æ‰¿ã—ã¾ã™#}
{% extends "layout/layout.twig" %}

{#HTMLã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚#}
{% block title %}æœ‰åäººä¸€è¦§{% endblock %}

{# é©ç”¨ã•ã›ãŸã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ #}
{% block header_scripts_add %}
<link rel="stylesheet" href="/assets/css/list.css">
{% endblock %}

{#ã“ã“ã‹ã‚‰è¡¨ç¤ºã—ãŸã„æƒ…å ±ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚#}
{% block page_content %}
    <div class="cp_ipselect cp_sl01">
      <select onchange="changeCategory(this);">
        <option value="" hidden>ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠ</option>
        {% for c in categories %}}
          <option value={{ c.category }}>{{ c.category }}</option>
        {% endfor %}
      </select>
    </div>
      <form class="Search" method="GET" action="/talent">
        <input type="text" name="q" placeholder="åå‰ã§æ¤œç´¢" class="form-control">
        <input type="submit" value="ğŸ” æ¤œç´¢" class="btn btn--blue">
      </form>
    </div>
    <h2>{{name}}{{ name == null ? "æœ‰åäººä¸€è¦§" : " ã®æ¤œç´¢çµæœä¸€è¦§"}}</h2>

  <div class="flex-container">
    {% for row in result1 %}

      <div class="box">
        <img src="{{ row.image_url }}" alt="">
        <div class="status">
          <div class="status_category">
            <p>
              <span><img src="/assets/images/sample.png" alt=""></span>
              {% for r2 in result2 %}
                {% if r2.talent_id == row.id %}
                {{r2.category}}
                {% endif %}
              {% endfor %}
            </p>
          </div>
          <div class="status_Speed">
            <p>
              <span><img src="/assets/images/sample.png" alt=""></span>
              ï¼‘æ—¥ä»¥å†…
            </p>

          </div>
          <div class="status_rate">
            <p>
              <span><img src="/assets/images/sample.png" alt=""></span>
              ï¼–ï¼ï¼…ã®è¿”ä¿¡
            </p>
          </div>
        </div>
        <a href="talent/detail?id={{row.id}}"><h4>{{ row.name }}</h4></a>
      </div>

      {% endfor %}
      </div>

      <ul class="pageNav01">
        <li><a href="?1"> æœ€åˆ </a></li>
      {% for i in 1..max %}
      <!-- <p>forã¯å‹•ã„ã¦ã‚‹</p> -->
          {% if i == now %}
            <li><span>{{i}}</span></li>
          {% elseif i>now-3 and i<now+3 %}
            <li><a href="?{{i}}"> {{i}} </a></li>
          {% endif %}
      {% endfor %}
      <li><a href="?{{max}}"> æœ€å¾Œ </a></li>
      </ul>
    </div>

  <script>
    const changeCategory = (obj) => {
      const index = obj.selectedIndex;
      const category = obj.options[index].value;

      console.log(category);
      window.location.href = `/talent?category=${category}`;
    }

  </script>

{% endblock %}

{#å…±é€šãƒ•ãƒƒã‚¿ã¨ã—ã¦è¿½è¨˜ã—ãŸã„æƒ…å ±ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚#}
{% block footer_scripts_add %}{% endblock %}
